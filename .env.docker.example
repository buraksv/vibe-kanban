# ===========================
# Vibe Kanban Docker Environment Configuration
# ===========================
# Copy this file to .env and fill in the required values
# ===========================

# ===========================
# General Configuration
# ===========================
RUST_LOG=info

# Migration Control
# Set to 'true' to skip database migrations on startup (useful for production deployments after initial setup)
# Default: false (migrations will run on every startup - SQLx ensures only new migrations are applied)
SKIP_MIGRATIONS=false

# ===========================
# Local Server Configuration (SQLite)
# ===========================
BACKEND_PORT=3000

# ===========================
# Remote Server Configuration (PostgreSQL)
# ===========================
REMOTE_PORT=8081

# Database URL - Use your external PostgreSQL instance
# Format: postgres://username:password@host:port/database
# 
# ⚠️ IMPORTANT: You can use ANY database name you want (vibe_kanban, production, etc.)
# The "remote" database name is ONLY used in development build scripts (prepare-db.sh)
# and is NOT required for runtime/production!
#
# Examples:
#   DATABASE_URL=postgres://vibe_kanban:password@localhost:5432/vibe_kanban
#   DATABASE_URL=postgres://admin:password@db.example.com:5432/production
#   DATABASE_URL=postgres://user:pass@postgres.internal:5432/my_app
#
DATABASE_URL=postgres://vibe_kanban:your_password@postgres:5432/vibe_kanban

# For local development PostgreSQL (included in docker-compose)
POSTGRES_DB=vibe_kanban
POSTGRES_USER=vibe_kanban
POSTGRES_PASSWORD=your_secure_password
POSTGRES_PORT=5432

# Server URLs
SERVER_PUBLIC_BASE_URL=https://your-domain.com
AUTH_PUBLIC_BASE_URL=https://your-domain.com

# JWT Secret - Generate a secure random string
# Example: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_here_minimum_32_characters

# ===========================
# OAuth Configuration
# ===========================
# GitHub OAuth (at least one OAuth provider is required)
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# Google OAuth (optional)
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# ===========================
# Optional: Email Service (Loops)
# ===========================
# For invitation emails and review updates
LOOPS_EMAIL_API_KEY=

# ===========================
# Optional: Storage Configuration
# ===========================

# Azure Blob Storage
AZURE_STORAGE_ACCOUNT_NAME=
AZURE_STORAGE_KEY=
AZURE_CONTAINER_NAME=

# Cloudflare R2
R2_ACCOUNT_ID=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET_NAME=
R2_PUBLIC_URL=

# ===========================
# Optional: Analytics & Monitoring
# ===========================

# PostHog Analytics
POSTHOG_API_KEY=
POSTHOG_API_ENDPOINT=

# Sentry Error Tracking
SENTRY_DSN_REMOTE=

# ===========================
# Optional: GitHub App Integration
# ===========================
GITHUB_APP_ID=
GITHUB_APP_PRIVATE_KEY=
GITHUB_APP_WEBHOOK_SECRET=

# ===========================
# Optional: ElectricSQL
# ===========================
ELECTRIC_ROLE_PASSWORD=

# ===========================
# Optional: Build-time Configuration
# ===========================
# Cargo features for remote build (e.g., vk-billing)
REMOTE_FEATURES=
